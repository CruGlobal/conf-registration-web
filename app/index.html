<!doctype html>
<html ng-app="confRegistrationWebApp">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/png" href="/img/favicon.png"/>

  <title ng-bind="generateTitle(globalPage.title)">Event Registration Tool</title>

  <script>
    window.location = '/maintenanceMode.html';
  </script>

  <!--[if lt IE 10]>
    <script type="text/javascript">
      window.location = '/browserUnsupported.html';
    </script>
  <![endif]>

  <!-- jQuery -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

  <!-- AngularJS -->
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular-route.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular-cookies.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.18/angular-sanitize.min.js"></script>

  <!-- build:css css/components.css -->
  <link rel="stylesheet" href="/bower_components/eonasdan-bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css">
  <link rel="stylesheet" href="/bower_components/pickadate/lib/compressed/themes/default.css">
  <link rel="stylesheet" href="/bower_components/pickadate/lib/compressed/themes/default.date.css">
  <!-- endbuild -->

  <!-- Compiled Stylesheet (includes Bootstrap CSS) -->
  <link rel="stylesheet" href="/css/style.css">

  <!-- Font Awesome (Icons) -->
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

  <!-- build:js scripts/components.js -->
  <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.js"></script>
  <script src="bower_components/bootstrap/js/affix.js"></script>
  <script src="bower_components/bootstrap/js/collapse.js"></script>
  <script src="bower_components/bootstrap/js/tooltip.js"></script>
  <script src="bower_components/momentjs/moment.js"></script>
  <script src="bower_components/moment-timezone/builds/moment-timezone-with-data.js"></script>
  <script src="bower_components/lodash/dist/lodash.js"></script>
  <script src="bower_components/eonasdan-bootstrap-datetimepicker/src/js/bootstrap-datetimepicker.js"></script>
  <script src="bower_components/pickadate/lib/picker.js"></script>
  <script src="bower_components/pickadate/lib/picker.date.js"></script>
  <script src="bower_components/jsencrypt/bin/jsencrypt.js"></script>
  <script src="bower_components/ccp-js/ccp.js"></script>
  <script src="bower_components/ng-facebook/ngFacebook.js"></script>
  <script src="components/angular-wysiwyg-custom.js"></script>
  <script src="bower_components/angular-ui-tree/dist/angular-ui-tree.js"></script>
  <!-- endbuild -->

  <!-- build:js scripts/eventApp.js -->
  <script src="scripts/app.js"></script>

  <!--Controllers-->
  <script src="scripts/controllers/angularUiTreeConfig.js"></script>
  <script src="scripts/controllers/accessEvent.js"></script>
  <script src="scripts/controllers/activatePermission.js"></script>
  <script src="scripts/controllers/createEvent.js"></script>
  <script src="scripts/controllers/editRegistrationModal.js"></script>
  <script src="scripts/controllers/eventDashboard.js"></script>
  <script src="scripts/controllers/eventDetails.js"></script>
  <script src="scripts/controllers/eventForm.js"></script>
  <script src="scripts/controllers/eventOverview.js"></script>
  <script src="scripts/controllers/eventPermissions.js"></script>
  <script src="scripts/controllers/eventRegistrations.js"></script>
  <script src="scripts/controllers/exportData.js"></script>
  <script src="scripts/controllers/help.js"></script>
  <script src="scripts/controllers/landing.js"></script>
  <script src="scripts/controllers/loginDialog.js"></script>
  <script src="scripts/controllers/paymentApproval.js"></script>
  <script src="scripts/controllers/paymentModal.js"></script>
  <script src="scripts/controllers/registration.js"></script>
  <script src="scripts/controllers/registrationModal.js"></script>
  <script src="scripts/controllers/reviewRegistration.js"></script>

  <!--Directives-->
  <script src="scripts/directives/adminNav.js"></script>
  <script src="scripts/directives/autoFocus.js"></script>
  <script src="scripts/directives/block.js"></script>
  <script src="scripts/directives/blocks.js"></script>
  <script src="scripts/directives/datepicker.js"></script>
  <script src="scripts/directives/questionToolbar.js"></script>
  <script src="scripts/directives/ngEnter.js"></script>
  <script src="scripts/directives/page.js"></script>
  <script src="scripts/directives/payment.js"></script>
  <script src="scripts/directives/pickadate.js"></script>
  <script src="scripts/directives/registrationTypeSelect.js"></script>
  <script src="scripts/directives/selectOnClick.js"></script>
  <script src="scripts/directives/showAnswer.js"></script>
  <script src="scripts/directives/showErrors.js"></script>

  <!--Filters-->
  <script src="scripts/filters/evtDateFormat.js"></script>
  <script src="scripts/filters/joiner.js"></script>
  <script src="scripts/filters/paymentTypeFormat.js"></script>
  <script src="scripts/filters/phoneFormat.js"></script>
  <script src="scripts/filters/toTrustedHtml.js"></script>
  <script src="scripts/filters/unique.js"></script>

  <!--Services-->
  <script src="scripts/services/apiUrl.js"></script>
  <script src="scripts/services/authorizationInterceptor.js"></script>
  <script src="scripts/services/ConfCache.js"></script>
  <script src="scripts/services/currentRegistrationInterceptor.js"></script>
  <script src="scripts/services/debouncePutsInterceptor.js"></script>
  <script src="scripts/services/enforceAuth.js"></script>
  <script src="scripts/services/growlService.js"></script>
  <script src="scripts/services/httpReturnStatusInterceptor.js"></script>
  <script src="scripts/services/httpUrlInterceptor.js"></script>
  <script src="scripts/services/modalMessage.js"></script>
  <script src="scripts/services/Model.js"></script>
  <script src="scripts/services/PermissionCache.js"></script>
  <script src="scripts/services/ProfileCache.js"></script>
  <script src="scripts/services/RegistrationCache.js"></script>
  <script src="scripts/services/unauthorizedInterceptor.js"></script>
  <script src="scripts/services/uuid.js"></script>
  <script src="scripts/services/validateRegistrant.js"></script>
  <!-- endbuild -->
  <!-- build:js scripts/errorNotify.js -->
  <script src="scripts/errorNotify.js"></script>
  <!-- endbuild -->
</head>

<body ng-class="globalPage.bodyClass" ng-cloak>
<!-- build:remove:dist -->
<div class="row previewRow">
  <div class="col-xs-12" style="font-size:24px;">
    Staging Environment
  </div>
  <div class="col-xs-12">
    <ul class="list-inline preview-nav">
      <li><a href="https://www.eventregistrationtool.com">Go to Production</a></li>
    </ul>
  </div>
</div>
<!-- /build -->

<div class="rootLoadingMsg" ng-if="loadingMsg">
  <div class="blueMsg">
    <div><i class="fa fa-spinner fa-spin"></i> {{loadingMsg}}...</div>
  </div>
</div>

<div ng-if="globalPage.type === 'admin' || globalPage.type === 'landing'">
  <div class="alert alert-warning growl-message" ng-show="growlMessage">
    <button type="button" class="close" ng-click="growlMessage=''">&times;</button>
    <p>{{growlMessage}} <a href="" ng-click="growlUndo()" class="alert-link">Undo</a></p>
  </div>
  <header id="masthead">
    <div class="container">
      <div class="row">
        <div class="col-sm-8">
          <a class="logo" href="#/" ng-if="globalPage.type === 'landing'">
            <i class="fa fa-users"></i> Event Registration Tool
          </a>
          <a class="logo" href="#/eventDashboard" ng-if="globalPage.type === 'admin'">
            <i class="fa fa-users"></i> Event Registration Tool
          </a>
        </div>
        <div class="col-sm-4 text-right" ng-if="globalGreetingName">
          <div class="btn-group usr-greeting spacing-below-xs" dropdown>
            <button type="button" class="btn btn-default name-btn">Hello <strong ng-bind="globalGreetingName"></strong></button>
            <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle>
              <span class="caret"></span>
              <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-right" role="menu">
              <li><a href="#/eventDashboard/"><i class="fa fa-users"></i> My Dashboard</a></li>
              <li><a href="#/help/"><i class="fa fa-medkit"></i> I Need Help!</a></li>
              <li><a href="#/logout/"><i class="fa fa-sign-out"></i> Sign out</a></li>
            </ul>
          </div>
        </div>
        <div class="col-sm-4 text-right" ng-if="!globalGreetingName">
          <div class="btn-group usr-greeting spacing-below-xs">
            <a href="#/eventDashboard" class="btn btn-default name-btn">Event Dashboard</a>
          </div>
        </div>
      </div>
    </div>
  </header>
  <section id="pagetitle" ng-if="globalPage.type === 'admin'" ng-class="globalPage.class">
    <div class="container">
      <div class="row">
        <div ng-if="!globalPage.confId" class="col-lg-12">
          <h1 ng-bind="globalPage.title"></h1>
        </div>
        <div ng-if="globalPage.confId" class="col-lg-6">
          <h1><a ng-href="#/eventOverview/{{globalPage.confId}}" ng-bind="globalPage.title"></a></h1>
        </div>
        <div class="col-lg-6" ng-if="globalPage.confId">
          <nav id="subnav" admin-nav>
          </nav>
        </div>
      </div>
    </div>
  </section>
</div>

<div ng-if="globalPage.type === 'registration'">
  <header id="frontheader">
  </header>
  <section id="frontpagetitle">
    <div class="container">
      <div class="row spacing-above-md">
        <div class="col-sm-10 col-xs-12 stacked-spacing-col-sm" ng-if="globalPage.confId">
          <a ng-href="#/{{registerMode || 'register'}}/{{globalPage.confId}}/page/">
            <h1 ng-bind="globalPage.conference.name"></h1>
          </a>
          <p class="spacing-above-md"><i class="fa fa-calendar fa-fw"></i>
            {{globalPage.conference.eventStartTime | evtDateFormat: globalPage.conference.eventTimezone:'ddd, MMM D, YYYY h:mma'}} -
            {{globalPage.conference.eventEndTime | evtDateFormat: globalPage.conference.eventTimezone:'ddd, MMM D, YYYY h:mma'}}
            <span ng-if="globalPage.conference.locationName"><br><i class="fa fa-map-marker fa-fw"></i>
            {{globalPage.conference.locationName}}</span>
          </p>
        </div>
        <div class="col-sm-10 col-xs-12 stacked-spacing-col-sm" ng-if="!globalPage.confId">
          <a href="#/">
            <h1 ng-bind="globalPage.title"></h1>
          </a>
        </div>
        <div class="col-sm-2 text-right hidden-xs">
          <a href="#/logout" class="btn btn-primary btn-important">Sign out</a>
        </div>
      </div>
    </div>
  </section>

  <div class="row previewRow" ng-show="registerMode === 'preview'">
    <div class="col-xs-12" style="font-size:24px;">
      Preview Mode
    </div>
    <div class="col-xs-12">
      <ul class="list-inline preview-nav">
        <li><a ng-href="#/eventOverview/{{globalPage.confId}}">Overview</a></li>
        <li><a ng-href="#/eventRegistrations/{{globalPage.confId}}">Registrations</a></li>
        <li><a ng-href="#/eventDetails/{{globalPage.confId}}">Details</a></li>
        <li><a ng-href="#/eventForm/{{globalPage.confId}}">Questions</a></li>
      </ul>
    </div>
  </div>
</div>

<main ng-class="globalPage.mainClass" ng-view=""></main>

<footer id="pagefooter" ng-if="globalPage.footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-8">
        <ul class="list-inline">
          <li><a href="#/privacy/">Privacy Policy</a></li>
          <li><a href="#/help/">Help</a></li>
          <!-- build:remove:dist -->
          <li><a ng-href="http://localhost:9000/#/auth/{{crsToken}}">Local Dev Environment</a></li>
          <!-- /build -->
        </ul>
      </div>
      <div class="col-sm-4 text-right">
        <span>&copy; 2014 | <a href="http://www.cru.org" target="_blank">Cru</a></span>
      </div>
    </div>
  </div>
</footer>

<footer id="frontfooter" ng-if="globalPage.type === 'registration'">
  <div class="container">
    <span>&copy; 2014 | Created with Event Registration Tool, powered by <a href="http://www.cru.org" target="_blank">Cru</a></span>
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  <!-- build:remove:stage -->
  ga('create', 'UA-325725-55', 'auto');
  <!-- /build -->
</script>
</body>
</html>
