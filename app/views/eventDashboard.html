<div class="row">
  <div class="col-sm-12 col-md-9">
    <div class="row">
      <div class="col-xs-12">
        <p ng-hide="!filteredEvents">Showing <strong>{{filteredEvents.length}} of {{conferences.length}}</strong> events</p>
        <p ng-show="!filteredEvents"><i class="fa fa-circle-o-notch fa-spin"></i> Loading events...</p>
      </div>
    </div>
    <div class="row spacing-below-sm">
      <div class="col-sm-8">
        <button ng-click="createEvent()" class="btn btn-success btn-spacing-below" role="button"><i class="fa fa-plus"></i> Create New Event</button>
        <button ng-click="requestAccess()" class="btn btn-success btn-spacing-below" role="button"><i class="fa fa-key"></i> Request Access to Existing Event</button>
      </div>
      <div class="col-sm-4">
        <div class="form-group has-feedback has-clear">
          <input type="text" class="form-control" placeholder="Filter Events" ng-model="filterName">
          <span class="form-control-feedback form-control-clear" ng-click="filterName = ''" title="Clear search" ng-show="filterName">
            <i class="fa fa-times"></i>
          </span>
        </div>
      </div>
    </div>
    <div ng-show="filteredEvents.length === 0" class="alert alert-info">
      <p>No events found. <a href="" ng-click="createEvent()" class="alert-link">Create a new event</a> or <a href="" ng-click="requestAccess()" class="alert-link">request access to an existing event</a> to get started!</p>
    </div>

    <h4 ng-show="recentEvents.length">Recently accessed events</h4>
    <ul class="event-list">
      <li class="event-box"
          ng-include="'views/components/eventDashboardEvent.html'"
          ng-repeat="event in recentEvents = (conferences | filter:{ name: filterName, archived: false, lastAccess: '!!'}) | limitTo:3 | orderBy: 'lastAccess':true"
          ng-click="goToEventPage('eventOverview', event.id)">
      </li>
    </ul>

    <h4 ng-show="filteredEvents.length && recentEvents.length">All your events</h4>
    <ul class="event-list">
      <li class="event-box"
          ng-include="'views/components/eventDashboardEvent.html'"
          ng-repeat="event in filteredEvents = (conferences | filter:{ name: filterName, archived: showArchivedEvents ? '' : false}) | orderBy: 'name'"
          ng-class="{'expired': event.archived}"
          ng-click="goToEventPage('eventOverview', event.id)">
      </li>
    </ul>
    <!--    <a class="btn btn-default small" href="#"><i class="fa fa-arrow-left"></i> Previous</a>
		<a class="btn btn-primary small" href="#">Next <i class="fa fa-arrow-right"></i></a>-->
    <label>
      <input type="checkbox" ng-model="showArchivedEvents"> Show archived events
    </label>
  </div>
  <aside class="col-md-3 welcome hidden-xs hidden-sm divider-left-col-md">
    <section>
      <h3>Welcome</h3>
      <p>Welcome to the Event Registration Tool (Beta).</p>
    </section>
  </aside>
</div>
