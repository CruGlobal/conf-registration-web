<div class="row">
  <div class="col-xs-12">
    <div class="alert" ng-class="notify.class" ng-bind-html="notify.message" ng-show="notify.class"></div>
    <h2 class="page-title border" ng-show="requestedPermissions.length" translate>Pending Users</h2>
    <div class="table-responsive">
      <table class="table table-striped" ng-show="requestedPermissions.length">
        <thead>
        <tr>
          <th class="col-xs-7" translate>User</th>
          <th class="col-xs-2" translate>Level</th>
          <th class="col-xs-2" translate>Requested</th>
          <th class="col-xs-1" translate>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="permission in requestedPermissions = (currentPermissions | filter:{ permissionLevel: 'REQUESTED' }) | orderBy: ['lastName', 'firstName', 'emailAddress']">
          <td>
            <span ng-if="permission.firstName || permission.lastName">{{permission.lastName}}, {{permission.firstName}} |&nbsp;</span>{{permission.emailAddress}}
            <span ng-if="permission.reasonForRequest">
              <br><strong translate>Reason:</strong> {{permission.reasonForRequest}}
            </span>
          </td>
          <td>
            <select style="width: 128px" ng-model="permission.permissionLevel" ng-change="updatePermission(permission.id)" class="form-control">
              <option value="FULL">Full</option>
              <option value="UPDATE">Update</option>
              <option value="SCHOLARSHIP">Scholarship</option>
              <option value="VIEW">View</option>
              <option ng-if="permission.permissionLevel === 'REQUESTED'" value="REQUESTED" translate>Requested</option>
            </select>
          </td>
          <td>{{permission.timestamp | date:'short'}}</td>
          <td><a href="" ng-click="deletePermission(permission.id)" class="btn btn-danger" translate>Delete</a></td>
        </tr>
        </tbody>
      </table>
    </div>

    <h2 class="page-title border" translate>Current Users</h2>
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
        <tr>
          <th class="col-xs-7" translate>User</th>
          <th class="col-xs-2" translate>Level</th>
          <th class="col-xs-2" translate>Last Update</th>
          <th class="col-xs-1" translate>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="permission in currentPermissions | filter:{ permissionLevel: '!REQUESTED' } | orderBy: ['lastName', 'firstName', 'emailAddress']">
          <td><span ng-if="permission.firstName || permission.lastName">{{permission.lastName}}, {{permission.firstName}} |&nbsp;</span>{{permission.emailAddress}}</td>
          <td>
            <select style="width: 128px" ng-model="permission.permissionLevel" ng-change="updatePermission(permission.id)" class="form-control">
              <option ng-if="permission.permissionLevel === 'CREATOR'" value="CREATOR" translate>Creator</option>
              <option value="FULL" translate>Full</option>
              <option value="UPDATE" translate>Update</option>
              <option value="SCHOLARSHIP" translate>Scholarship</option>
              <option value="VIEW" translate>View</option>
            </select>
          </td>
          <td>{{permission.timestamp | date:'short'}}</td>
          <td><a href="" ng-click="deletePermission(permission.id)" class="btn btn-danger" translate>Delete</a></td>
        </tr>
        <tr>
          <td>
            <strong>Add User</strong>
            <input type="text" class="form-control" placeholder="example@example.com" ng-model="addPermissionsEmail">
          </td>
          <td colspan="2">
            <strong translate>Permission Level</strong>
            <select ng-model="addPermissionsLevel" class="form-control">
              <option value="FULL" translate>Full</option>
              <option value="UPDATE" translate>Update</option>
              <option value="SCHOLARSHIP" translate>Scholarship</option>
              <option value="VIEW" translate>View</option>
            </select>
          </td>
          <td class="text-center">
            <br>
            <button type="submit" class="btn btn-success " ng-click="addPermission(addPermissionsEmail, addPermissionsLevel)" translate>Add</button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <h3 translate>Permission level comparison</h3>
    <div class="table-responsive">
      <table class="table">
        <thead>
        <tr>
          <th></th>
          <th style="width:140px;" class="text-center" translate>Requested</th>
          <th style="width:140px;" class="text-center" translate>View</th>
          <th style="width:140px;" class="text-center" translate>Scholarship</th>
          <th style="width:140px;" class="text-center" translate>Update</th>
          <th style="width:140px;" class="text-center" translate>Full/Creator</th>
        </tr>
        </thead>
        <tbody>
        <tr class="active">
          <th colspan="6" translate>Event</th>
        </tr>
        <tr>
          <td translate>Update/modify event details</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Edit/modify event questions</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Add/modify event users</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Clone event</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Archive/delete event</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr class="active">
          <th colspan="6" translate>Registrations</th>
        </tr>
        <tr>
          <td translate>View/export registrations</td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Add/modify/delete registrations</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr class="active">
          <th colspan="6" translate>Payments and Expenses</th>
        </tr>
        <tr>
          <td translate>View/export payments</td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Manage/add scholarship payments</td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Manage/add all payments</td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        <tr>
          <td translate>Manage/add expenses and discounts</td>
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td class="text-center"><i class="fa fa-check"></i></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
