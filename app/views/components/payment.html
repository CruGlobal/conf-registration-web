<fieldset class="payment-fieldset" ng-if="!isAdminPayment">
  <legend translate>Payment method</legend>
  <div>
    <label ng-show="paymentMethods().acceptCreditCards">
      <input
        type="radio"
        name="payment-method"
        ng-model="currentPayment.paymentType"
        ng-value="'CREDIT_CARD'"
        translate
      />
      Credit Card
    </label>

    <label ng-show="paymentMethods().acceptChecks">
      <input
        type="radio"
        name="payment-method"
        ng-model="currentPayment.paymentType"
        ng-value="'CHECK'"
        translate
      />
      Check
    </label>

    <label ng-show="paymentMethods().acceptTransfers">
      <input
        type="radio"
        name="payment-method"
        ng-model="currentPayment.paymentType"
        ng-value="'TRANSFER'"
        translate
      />
      Cru Staff / Ministry Account Transfer
    </label>

    <label ng-show="paymentMethods().acceptScholarships">
      <input
        type="radio"
        name="payment-method"
        ng-model="currentPayment.paymentType"
        ng-value="'SCHOLARSHIP'"
        translate
      />
      Scholarship
    </label>

    <label ng-show="paymentMethods().acceptPayOnSite">
      <input
        type="radio"
        name="payment-method"
        ng-model="currentPayment.paymentType"
        ng-value="'PAY_ON_SITE'"
        translate
      />
      Pay on site
    </label>
  </div>
</fieldset>

<fieldset
  class="payment-fieldset"
  ng-show="currentPayment.paymentType !== 'PAY_ON_SITE'"
  ng-if="!isAdminPayment"
>
  <legend translate>Amount</legend>
  <div
    ng-if="currentRegistration.calculatedMinimumDeposit !== currentRegistration.calculatedTotalDue"
  >
    <label for="payment-amount-input" class="sr-only" translate
      >Payment Amount</label
    >
    <div class="input-group">
      <span class="input-group-addon"
        ><span class="currency-label"
          >{{conference.currency.currencyCode | localizedSymbol}}</span
        ></span
      >
      <input
        id="payment-amount-input"
        type="text"
        ng-model="currentPayment.amount"
        ng-value="currentRegistration.calculatedTotalDue"
        class="form-control marginless"
        aria-describedby="payment-amount"
      />
    </div>
    <span
      id="payment-amount"
      class="text-muted"
      ng-if="currentRegistration.calculatedMinimumDeposit > 0 && currentRegistration.pastPayments.length === 0"
    >
      <i class="fa fa-info-circle"></i>
      <translate
        >The minimum deposit required to register for this event is</translate
      >
      {{currentRegistration.calculatedMinimumDeposit |
      localizedCurrency:conference.currency.currencyCode}}
    </span>
  </div>
  <div
    ng-if="currentRegistration.calculatedMinimumDeposit === currentRegistration.calculatedTotalDue"
  >
    <label>
      <input
        type="radio"
        name="payment-amount"
        ng-model="currentPayment.amount"
        ng-value="currentRegistration.remainingBalance"
        aria-label="{{'Pay full amount' | translate}}"
      />
      {{currentRegistration.remainingBalance |
      localizedCurrency:conference.currency.currencyCode}}
    </label>
  </div>
</fieldset>

<ng-include src="paymentMethodsViews[currentPayment.paymentType]"></ng-include>
