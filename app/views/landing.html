<div class="landing-jumbo">
  <div class="row container">
    <div class="col-xs-12">
      <div class="row">
        <div class="col-md-12">
          <h1>Search for an event</h1>
          <form ng-submit="eventSearch(searchVal)">
            <div class="input-group">
              <input type="text" placeholder="Event name" ng-model="searchVal" class="form-control">
              <span class="input-group-btn">
                <button class="btn btn-primary" type="submit">Search</button>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container spacing-above-md" ng-if="!searchComplete">
  <h3>Register for an event</h3>
  <p>To register for an event, search the event name above.</p>

  <h3>Create or manage an event</h3>
  <p>To create a new event or view registrations, manage scholarships or change questions on an existing event, continue to your <a href="#/eventDashboard">Event Dashboard</a>.</p>
</div>
<div class="container spacing-above-md" ng-if="searchComplete">
  <div class="row">
    <div class="col-md-4">
      <h4>Filters</h4>
      <accordion close-others="false">
        <accordion-group heading="Location" is-open="true">
          <div class="list-group">
            <a href=""
               class="list-group-item"
               ng-class="{'active': eventFilters.locationName === ''}"
               ng-click="eventFilters.locationName = ''">-Any-</a>
            <a href=""
               class="list-group-item"
               ng-class="{'active': eventFilters.locationName === e.locationName}"
               ng-repeat="e in searchResults | unique: 'locationName' | orderBy: 'locationName'"
               ng-click="eventFilters.locationName = e.locationName"
               ng-if="e.locationName">{{e.locationName}}</a>
          </div>
        </accordion-group>
        <accordion-group heading="Date" is-open="true">
          <div class="list-group">
            <a href=""
               class="list-group-item"
               ng-class="{'active': eventFilters.date === ''}"
               ng-click="eventFilters.date = ''">-Any-</a>
            <a href="" class="list-group-item"
               ng-click="eventFilters.date = d"
               ng-class="{'active': eventFilters.date === d}"
               ng-repeat="d in ['This Week', 'This Weekend', 'Next Week', 'This Month']">{{d}}</a>
          </div>
        </accordion-group>
      </accordion>
    </div>
    <div class="col-md-8">
      <div class="list-group">
        <a href=""
           ng-click="eventCollapse[e.id] = !eventCollapse[e.id]"
           class="list-group-item"
           ng-repeat="e in searchResults | filter:{ locationName: eventFilters.locationName } | filter: dateFilter | orderBy: 'name'">
          <div class="pull-right">
            <button ng-click="selectEvent(e, 'register')" class="btn btn-primary spacing-above-xs" ng-if="!userAdminForEvent(e.id)">Register</button>
            <button ng-click="selectEvent(e, 'eventOverview')" class="btn btn-success spacing-above-xs" ng-if="userAdminForEvent(e.id)">Manage</button>
          </div>
          <h3 class="list-group-item-heading">{{e.name}}</h3>
          <p class="spacing-above-md list-group-item-text"><i class="fa fa-calendar fa-fw"></i>
            {{e.eventStartTime | evtDateFormat: e.eventTimezone:'ddd, MMM D, YYYY h:mma'}} -
            {{e.eventEndTime | evtDateFormat: e.eventTimezone:'ddd, MMM D, YYYY h:mma'}}
            <span ng-if="e.locationName"><br><i class="fa fa-map-marker fa-fw"></i>
            {{e.locationName}}</span>
          </p>
          <div collapse="!eventCollapse[e.id]">
            <p class="spacing-above-md" ng-if="e.description">{{e.description}}</p>
          </div>
        </a>
      </div>
      <p ng-show="!searchResults.length">No events found matching "{{searchComplete}}".</p>
    </div>
  </div>
</div>